# Example inline security rules
security_rule = {
    ssh = {
      name                                       = "ssh"
      priority                                   = 100
      direction                                  = "Inbound"
      access                                     = "Allow"
      protocol                                   = "tcp"
      source_port_range                          = "*"
      source_port_ranges                         = null
      destination_port_range                     = null
      destination_port_ranges                    = ["22"]
      source_address_prefix                      = "0.0.0.0/0"
      source_address_prefixes                    = null
      destination_address_prefix                 = "*"
      destination_address_prefixes               = null
      source_application_security_group_ids      = null
      destination_application_security_group_ids = null
      description                                = "Enable SSH traffic for Linux"
    },
    rdp = {
      name                                       = "rdp"
      priority                                   = 110
      direction                                  = "Inbound"
      access                                     = "Allow"
      protocol                                   = "tcp"
      source_port_range                          = "*"
      source_port_ranges                         = null
      destination_port_range                     = null
      destination_port_ranges                    = ["3389"]
      source_address_prefix                      = "0.0.0.0/0"
      source_address_prefixes                    = null
      destination_address_prefix                 = "*"
      destination_address_prefixes               = null
      source_application_security_group_ids      = null
      destination_application_security_group_ids = null
      description                                = "Enable RDP traffic for Windows"
    },
    http_https = {
      name                                       = "http_https"
      priority                                   = 120
      direction                                  = "Inbound"
      access                                     = "Allow"
      protocol                                   = "tcp"
      source_port_range                          = "*"
      source_port_ranges                         = null
      destination_port_range                     = null
      destination_port_ranges                    = ["80", "443"]
      source_address_prefix                      = "0.0.0.0/0"
      source_address_prefixes                    = null
      destination_address_prefix                 = "*"
      destination_address_prefixes               = null
      source_application_security_group_ids      = null
      destination_application_security_group_ids = null
      description                                = "Enable HTTP and HTTPS traffic"
    }
  }
  
  
  # NSG rules for Application Gateway
  nsg_rules = {
    GatewayManager = {
      name                                       = "GatewayManager"
      priority                                   = 100
      direction                                  = "Inbound"
      access                                     = "Allow"
      protocol                                   = "tcp"
      source_port_range                          = "*"
      source_port_ranges                         = null
      destination_port_range                     = null
      destination_port_ranges                    = ["65200-65535"]
      source_address_prefix                      = "GatewayManager"
      source_address_prefixes                    = null
      destination_address_prefix                 = "*"
      destination_address_prefixes               = null
      source_application_security_group_ids      = null
      destination_application_security_group_ids = null
      description                                = "Azure infrastructure communication"
    },
    AzureLoadBalancer = {
      name                                       = "AzureLoadBalancer"
      priority                                   = 110
      direction                                  = "Inbound"
      access                                     = "Allow"
      protocol                                   = "tcp"
      source_port_range                          = "*"
      source_port_ranges                         = null
      destination_port_range                     = null
      destination_port_ranges                    = ["0-65535"]
      source_address_prefix                      = "AzureLoadBalancer"
      source_address_prefixes                    = null
      destination_address_prefix                 = "*"
      destination_address_prefixes               = null
      source_application_security_group_ids      = null
      destination_application_security_group_ids = null
      description                                = "Azure Load Balancer"
    },
    allow_http = {
      name                                       = "AllowHTTP"
      priority                                   = 120
      direction                                  = "Inbound"
      access                                     = "Allow"
      protocol                                   = "tcp"
      source_port_range                          = "*"
      source_port_ranges                         = null
      destination_port_range                     = null
      destination_port_ranges                    = ["80"]
      source_address_prefix                      = "0.0.0.0/0"
      source_address_prefixes                    = null
      destination_address_prefix                 = "*"
      destination_address_prefixes               = null
      source_application_security_group_ids      = null
      destination_application_security_group_ids = null
      description                                = "HTTP access from anywhere"
    },
    DenyInternet = {
      name                                       = "DenyInternet"
      priority                                   = 130
      direction                                  = "Inbound"
      access                                     = "Deny"
      protocol                                   = "*"
      source_port_range                          = "*"
      source_port_ranges                         = null
      destination_port_range                     = null
      destination_port_ranges                    = ["0-65535"]
      source_address_prefix                      = "Internet"
      source_address_prefixes                    = null
      destination_address_prefix                 = "*"
      destination_address_prefixes               = null
      source_application_security_group_ids      = null
      destination_application_security_group_ids = null
      description                                = "Deny Internet raffic"
    },
    VirtualNetwork = {
      name                                       = "VirtualNetwork"
      priority                                   = 140
      direction                                  = "Inbound"
      access                                     = "Allow"
      protocol                                   = "tcp"
      source_port_range                          = "*"
      source_port_ranges                         = null
      destination_port_range                     = null
      destination_port_ranges                    = ["0-65535"]
      source_address_prefix                      = "VirtualNetwork"
      source_address_prefixes                    = null
      destination_address_prefix                 = "*"
      destination_address_prefixes               = null
      source_application_security_group_ids      = null
      destination_application_security_group_ids = null
      description                                = "Unblcok access to Private IP address"
    }
  }